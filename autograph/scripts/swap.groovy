g.V().has('[avm]Component','[]Name',"__NEW_COMPONENT__").as('cn').V().has('[avm]Design','[]Name','__DESIGN__').in('inside').in('inside').has('[]ComponentInstance','[]Name',"__COMPONENT_INSTANCE__").as('ci').out('component_id').out('component_instance').as('co').sideEffect(addV('EXTERNAL').as('ce').property('[]ID',select('cn').values('[]ID')).property('_partition','swapComponent').addE('component_id').from('ci').to('ce').addE('component_instance').from('ce').to('cn').select('ci').outE('component_id').as('cy').inV().hasLabel('EXTERNAL').out('component_instance').where(eq('co')).select('cy').drop()).sideEffect(select('ci').in('inside').hasLabel('[]ConnectorInstance').as('ni').outE('id_in_component_model').as('ny').inV().hasLabel('EXTERNAL').out('connector_instance').hasLabel('[]Connector').as('ns').values("[]Name").as("nsName").select('cn').in('inside').hasLabel('[]Connector').as('nx').values("[]Name").as('nxName').where(eq('nsName')).addV('EXTERNAL').as('ne').property('_partition','swapComponentConnector').property('[]ID',select('nx').values('[]ID')).addE('id_in_component_model').from('ni').to('ne').addE('connector_instance').from('ne').to('nx').select('ny').drop()).sideEffect(select('ci').in('inside').hasLabel('[]PrimitivePropertyInstance').as('pi').outE('id_in_component_model').as('py').inV().hasLabel('EXTERNAL').out('property_instance').hasLabel('[]Property').as('ps').values("[]Name").as('psName').select('cn').in('inside').hasLabel('[]Property').as('px').values("[]Name").as('pxName').where(eq('psName')).addV('EXTERNAL').as('pe').property('_partition','swapComponentProperty').property('[]ID',select('px').in('inside').hasLabel('[]Value').values('[]ID')).addE('id_in_component_model').from('pi').to('pe').addE('property_instance').from('pe').to('px').select('py').drop()).iterate()